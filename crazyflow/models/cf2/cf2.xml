<mujoco model="cf2">
  <option integrator="RK4" density="1.225" viscosity="1.8e-5"/>

  <compiler inertiafromgeom="false" meshdir="assets" autolimits="true"/>

  <default>
    <default class="cf2">
      <default class="visual">
        <geom group="2" type="mesh" contype="0" conaffinity="0"/>
      </default>
      <site group="5"/>
    </default>
  </default>

  <include file="assets.xml"/>

  <worldbody>
    <body name="drone" pos="0 0 0.05" childclass="cf2">
      <joint name="free_joint" type="free" stiffness="0" damping="0" frictionloss="0" armature="0"/>
      <inertial pos="0.0 0.0 0.0" mass="0.027" diaginertia="2.3951e-5 2.3951e-5 3.2347e-5"/>
      <camera name="track" pos="-1 0 .5" xyaxes="0 -1 0 1 0 2" mode="trackcom"/>
      <!-- Virtual bodies for the drone motors and the drone CoM -->
      <body name="drone:0" pos="0.028 0.028 0.0"/>
      <body name="drone:1" pos="-0.028 0.028 0.0"/>
      <body name="drone:2" pos="-0.028 -0.028 0.0"/>
      <body name="drone:3" pos="0.028 -0.028 0.0"/>
      <body name="drone:4" pos="0.0 0.0 0.0"/>
      <geom mesh="cf2_0" material="propeller_plastic" class="visual"/>
      <geom mesh="cf2_1" material="medium_gloss_plastic" class="visual"/>
      <geom mesh="cf2_2" material="polished_gold" class="visual"/>
      <geom mesh="cf2_3" material="polished_plastic" class="visual"/>
      <geom mesh="cf2_4" material="burnished_chrome" class="visual"/>
      <geom mesh="cf2_5" material="body_frame_plastic" class="visual"/>
      <geom mesh="cf2_6" material="white" class="visual"/>
      <!-- Collision geometry is estimated based on the visual mesh -->
      <geom type="cylinder" name="cf2_collision_0" size="0.075 0.012" group="3"/>
      <site name="imu"/>
      <site name="CoM"/>
      <site name="motor_0" pos="0.0325 0.0325 0.0"/>
      <site name="motor_1" pos="-0.0325 0.0325 0.0"/>
      <site name="motor_2" pos="-0.0325 -0.0325 0.0"/>
      <site name="motor_3" pos="0.0325 -0.0325 0.0"/>
    </body>

  </worldbody>

  <!-- Body-level thrust and moments -->
  <actuator>
    <motor class="cf2" ctrlrange="0 0.35" gear="0 0 1 0 0 0" site="CoM" name="body_thrust"/>
    <motor class="cf2" ctrlrange="-1 1" gear="0 0 0 1 0 0" site="CoM" name="x_moment"/>
    <motor class="cf2" ctrlrange="-1 1" gear="0 0 0 0 1 0" site="CoM" name="y_moment"/>
    <motor class="cf2" ctrlrange="-1 1" gear="0 0 0 0 0 1" site="CoM" name="z_moment"/>
  </actuator>

  <!-- Individual motors. TODO: Add correct limits to the control range -->
  <actuator>
    <motor class="cf2" ctrlrange="0 1" gear="0 0 1 0 0 0" site="motor_0" name="motor_0_thrust"/>
    <motor class="cf2" ctrlrange="0 1" gear="0 0 1 0 0 0" site="motor_1" name="motor_1_thrust"/>
    <motor class="cf2" ctrlrange="0 1" gear="0 0 1 0 0 0" site="motor_2" name="motor_2_thrust"/>
    <motor class="cf2" ctrlrange="0 1" gear="0 0 1 0 0 0" site="motor_3" name="motor_3_thrust"/>
    <motor class="cf2" ctrlrange="-1 1" gear="0 0 0 0 0 1" site="motor_0" name="motor_0_moment"/>
    <motor class="cf2" ctrlrange="-1 1" gear="0 0 0 0 0 1" site="motor_1" name="motor_1_moment"/>
    <motor class="cf2" ctrlrange="-1 1" gear="0 0 0 0 0 1" site="motor_2" name="motor_2_moment"/>
    <motor class="cf2" ctrlrange="-1 1" gear="0 0 0 0 0 1" site="motor_3" name="motor_3_moment"/>
  </actuator>

  <sensor>
    <gyro name="body_gyro" site="imu"/>
    <accelerometer name="body_linacc" site="imu"/>
    <framequat name="body_quat" objtype="site" objname="imu"/>
  </sensor>
</mujoco>